<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Search Panel/Toolbox Toggle</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Inter', sans-serif;
    background: #f0f0f0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    padding: 0 0 80px;
  }

  /* ── Page header ── */
  .page-header {
    width: 100%;
    background: #fff;
    border-bottom: 1px solid #e2e2e2;
    padding: 28px 48px 24px;
    margin-bottom: 48px;
  }
  .page-header h1 { font-size: 20px; font-weight: 600; color: #111; }
  .page-header p  { font-size: 13px; color: #777; margin-top: 4px; line-height: 1.5; }

  /* ── Option sections ── */
  .option-section {
    width: 100%;
    max-width: 900px;
    margin-bottom: 56px;
  }
  .option-label {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: #999;
    margin-bottom: 16px;
    padding: 0 4px;
  }
  .option-name {
    font-size: 16px;
    font-weight: 600;
    color: #111;
    margin-bottom: 4px;
    padding: 0 4px;
  }
  .option-desc {
    font-size: 13px;
    color: #666;
    line-height: 1.55;
    margin-bottom: 24px;
    padding: 0 4px;
  }

  /* ── Demo canvas ── */
  .demo-canvas {
    background: #fff;
    border-radius: 16px;
    border: 1px solid #e2e2e2;
    padding: 48px;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    min-height: 400px;
    position: relative;
  }

  .notes {
    background: #fafafa;
    border-radius: 0 0 16px 16px;
    border: 1px solid #e2e2e2;
    border-top: none;
    padding: 14px 18px;
    font-size: 12px;
    color: #555;
    line-height: 1.6;
  }
  .notes strong { color: #222; }

  /* ── Search button ── */
  .search-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 1.5px solid #d0d0d0;
    background: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #2c2c2c;
    box-shadow: 0 4px 16px rgba(0,0,0,.22), 0 1px 4px rgba(0,0,0,.12);
    flex-shrink: 0;
    transition: all 0.2s;
    z-index: 10;
  }
  .search-btn svg {
    width: 17px;
    height: 17px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .search-btn.active {
    border-color: #2c2c2c;
    box-shadow: 0 0 0 3px rgba(44,44,44,.12), 0 4px 16px rgba(0,0,0,.22);
  }

  /* ── Pill ── */
  .pill {
    background: #2c2c2c;
    color: #fff;
    font-size: 10px;
    font-weight: 600;
    padding: 5px 12px;
    border-radius: 20px;
    white-space: nowrap;
    display: flex;
    align-items: center;
    cursor: default;
    margin-right: 8px;
  }

  /* ── Interactive container ── */
  .interactive-container {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
  }

  .pill-row {
    display: flex;
    align-items: center;
    gap: 0;
  }

  /* ── Search panel (white panel that slides out) ── */
  .search-panel {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    box-shadow: 0 8px 28px rgba(0,0,0,.13), 0 2px 8px rgba(0,0,0,.07);
    padding: 18px 20px;
    min-width: 320px;
    margin-top: 10px;
    transform: translateX(120%);
    opacity: 0;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-out;
    pointer-events: none;
  }

  .search-panel.visible {
    transform: translateX(0);
    opacity: 1;
    pointer-events: auto;
  }

  .search-panel-section {
    margin-bottom: 16px;
  }
  .search-panel-section:last-child {
    margin-bottom: 0;
  }

  .search-panel-heading {
    font-size: 9px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .07em;
    color: #888;
    margin-bottom: 10px;
  }

  .search-field {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 10px;
  }
  .search-field:last-child {
    margin-bottom: 0;
  }

  .search-field-label {
    font-size: 10.5px;
    font-weight: 600;
    color: #333;
  }

  .search-field-input {
    width: 100%;
    padding: 8px 12px;
    border: 1.5px solid #ddd;
    border-radius: 8px;
    font-size: 12px;
    font-family: inherit;
    color: #222;
    background: #fafafa;
    transition: border-color 0.15s, background 0.15s;
  }
  .search-field-input:focus {
    outline: none;
    border-color: #999;
    background: #fff;
  }

  .filter-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .filter-chip {
    padding: 6px 10px;
    border: 1.5px solid #ddd;
    border-radius: 8px;
    font-size: 11px;
    font-weight: 500;
    color: #555;
    background: #fafafa;
    cursor: pointer;
    transition: all 0.15s;
  }
  .filter-chip:hover {
    border-color: #999;
    background: #f0f0f0;
  }
  .filter-chip.active {
    border-color: #5566cc;
    background: #eef0ff;
    color: #334488;
  }

  /* ── Toolbox (dark H5-style toolbox that appears) ── */
  .toolbox {
    background: #111;
    border: 1px solid #222;
    border-radius: 12px;
    box-shadow: 0 8px 28px rgba(0,0,0,.28), 0 2px 8px rgba(0,0,0,.2);
    padding: 14px 0 6px;
    min-width: 330px;
    position: relative;
    margin-top: 10px;
    transform: translateX(-120%);
    opacity: 0;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-out;
    pointer-events: none;
  }

  .toolbox.visible {
    transform: translateX(0);
    opacity: 1;
    pointer-events: auto;
  }

  .toolbox-clear-btn {
    position: absolute;
    top: 12px;
    right: 14px;
    padding: 3px 9px;
    border-radius: 10px;
    background: #fff;
    font-size: 8.5px;
    color: #000;
    font-weight: 600;
    cursor: pointer;
    transition: background .15s;
    text-transform: uppercase;
    letter-spacing: .03em;
    border: none;
  }
  .toolbox-clear-btn:hover {
    background: #e0e0e0;
  }

  .toolbox-section {
    padding: 2px 14px 3px;
  }
  .toolbox-section + .toolbox-section {
    border-top: 1px solid #2a2a2a;
    margin-top: 5px;
    padding-top: 7px;
  }

  .toolbox-heading {
    font-size: 9px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .07em;
    color: #9a9a9a;
    margin-bottom: 6px;
  }

  .toolbox-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    padding: 4px 0;
  }

  .toolbox-item-label {
    font-size: 11.5px;
    color: #aaa;
    line-height: 1.3;
  }

  .toolbox-item-value {
    color: #f0f0f0;
    font-weight: 500;
  }

  .toolbox-item-remove {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #1a1a1a;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    flex-shrink: 0;
    transition: background .15s;
  }
  .toolbox-item-remove:hover {
    background: #2a2a2a;
  }
  .toolbox-item-remove svg {
    width: 9px;
    height: 9px;
    stroke: #aaa;
    fill: none;
    stroke-width: 2.5;
    stroke-linecap: round;
  }

  .toolbox-section.filters-section .toolbox-item {
    padding: 0;
  }

  .filter-row {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .filter-pill {
    background: #2a2a2a;
    color: #f0f0f0;
    font-size: 10px;
    font-weight: 500;
    padding: 5px 10px 5px 12px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    gap: 7px;
    cursor: default;
  }

  .filter-pill-x {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #2a2a2a;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    flex-shrink: 0;
    transition: background .15s;
  }
  .filter-pill-x:hover {
    background: #3a3a3a;
  }
  .filter-pill-x svg {
    width: 8px;
    height: 8px;
    stroke: #dcdcdc;
    fill: none;
    stroke-width: 2.5;
    stroke-linecap: round;
  }

  /* Static display boxes for showing states */
  .static-display {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
  }

  /* Instructions */
  .instructions {
    position: absolute;
    top: 20px;
    left: 20px;
    background: rgba(255,255,255,0.95);
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px 16px;
    font-size: 11px;
    color: #666;
    max-width: 240px;
    line-height: 1.5;
  }
  .instructions strong {
    color: #333;
    display: block;
    margin-bottom: 4px;
  }

</style>
</head>
<body>

<div class="page-header">
  <h1>Interactive Search Panel/Toolbox Toggle</h1>
  <p>Three states demonstrating the slide animation between search panel and summary toolbox.</p>
</div>

<!-- ─────────────────────────────────────────────────────────
     STATE 1 — Default: Search icon + Pill + Panel visible
     ───────────────────────────────────────────────────────── -->
<div class="option-section">
  <div class="option-label">State 1</div>
  <div class="option-name">Default State: Panel Visible</div>
  <div class="option-desc">
    The initial state shows the search icon, a pill displaying "1 search field · 2 filters",
    and the white search panel below with input fields and filter options.
  </div>
  <div class="demo-canvas">
    <div class="static-display">
      <div class="pill-row">
        <div class="pill">1 search field · 2 filters</div>
        <button class="search-btn">
          <svg><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="21" y2="21"/></svg>
        </button>
      </div>
      <div class="search-panel visible">
        <div class="search-panel-section">
          <div class="search-panel-heading">Search</div>
          <div class="search-field">
            <label class="search-field-label">Title</label>
            <input type="text" class="search-field-input" placeholder="Enter title...">
          </div>
        </div>
        <div class="search-panel-section">
          <div class="search-panel-heading">Filters</div>
          <div class="filter-chips">
            <div class="filter-chip active">Print</div>
            <div class="filter-chip">Manuscript</div>
            <div class="filter-chip active">1500–1520</div>
            <div class="filter-chip">1520–1540</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="notes">
    <strong>Default state:</strong> Search panel is expanded below the pill and icon, allowing users to enter search terms and select filters.
  </div>
</div>

<!-- ─────────────────────────────────────────────────────────
     STATE 2 — Transition: Panel slides out, Toolbox appears
     ───────────────────────────────────────────────────────── -->
<div class="option-section">
  <div class="option-label">State 2</div>
  <div class="option-name">Collapsed State: Toolbox Visible</div>
  <div class="option-desc">
    When clicking the search icon or outside the panel, the white panel slides out
    and the dark toolbox slides in, showing active search fields and filters with individual remove buttons.
  </div>
  <div class="demo-canvas">
    <div class="static-display">
      <div class="pill-row">
        <div class="pill">1 search field · 2 filters</div>
        <button class="search-btn active">
          <svg><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="21" y2="21"/></svg>
        </button>
      </div>
      <div class="toolbox visible">
        <button class="toolbox-clear-btn">Clear all</button>
        <div class="toolbox-section">
          <div class="toolbox-heading">Search</div>
          <div class="toolbox-item">
            <div class="toolbox-item-label">Title: <span class="toolbox-item-value">ambraser</span>
              <button class="toolbox-item-remove" title="Remove">
                <svg viewBox="0 0 9 9"><line x1="1" y1="1" x2="8" y2="8"/><line x1="8" y1="1" x2="1" y2="8"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="toolbox-section filters-section">
          <div class="toolbox-heading">Filters</div>
          <div class="filter-row">
            <div class="filter-pill">
              Print
              <span class="filter-pill-x">
                <svg viewBox="0 0 8 8"><line x1="1" y1="1" x2="7" y2="7"/><line x1="7" y1="1" x2="1" y2="7"/></svg>
              </span>
            </div>
            <div class="filter-pill">
              1500–1520
              <span class="filter-pill-x">
                <svg viewBox="0 0 8 8"><line x1="1" y1="1" x2="7" y2="7"/><line x1="7" y1="1" x2="1" y2="7"/></svg>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="notes">
    <strong>Collapsed state:</strong> Toolbox shows active selections with individual remove buttons and a "Clear all" option in the top right.
  </div>
</div>

<!-- ─────────────────────────────────────────────────────────
     STATE 3 — Interactive: Toggle between states
     ───────────────────────────────────────────────────────── -->
<div class="option-section">
  <div class="option-label">State 3</div>
  <div class="option-name">Interactive Demo: Toggle Panel ↔ Toolbox</div>
  <div class="option-desc">
    Click the search icon to toggle between the search panel and toolbox.
    The transition is smooth and repeatable.
  </div>
  <div class="demo-canvas">
    <div class="instructions">
      <strong>Try it:</strong>
      Click the search icon to toggle between the input panel and summary toolbox.
    </div>
    <div class="interactive-container">
      <div class="pill-row">
        <div class="pill">1 search field · 2 filters</div>
        <button class="search-btn" id="toggleBtn">
          <svg><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="21" y2="21"/></svg>
        </button>
      </div>
      
      <div class="search-panel visible" id="searchPanel">
        <div class="search-panel-section">
          <div class="search-panel-heading">Search</div>
          <div class="search-field">
            <label class="search-field-label">Title</label>
            <input type="text" class="search-field-input" placeholder="Enter title..." value="ambraser">
          </div>
        </div>
        <div class="search-panel-section">
          <div class="search-panel-heading">Filters</div>
          <div class="filter-chips">
            <div class="filter-chip active">Print</div>
            <div class="filter-chip">Manuscript</div>
            <div class="filter-chip active">1500–1520</div>
            <div class="filter-chip">1520–1540</div>
          </div>
        </div>
      </div>

      <div class="toolbox" id="toolbox">
        <button class="toolbox-clear-btn">Clear all</button>
        <div class="toolbox-section">
          <div class="toolbox-heading">Search</div>
          <div class="toolbox-item">
            <div class="toolbox-item-label">Title: <span class="toolbox-item-value">ambraser</span>
              <button class="toolbox-item-remove" title="Remove">
                <svg viewBox="0 0 9 9"><line x1="1" y1="1" x2="8" y2="8"/><line x1="8" y1="1" x2="1" y2="8"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="toolbox-section filters-section">
          <div class="toolbox-heading">Filters</div>
          <div class="filter-row">
            <div class="filter-pill">
              Print
              <span class="filter-pill-x">
                <svg viewBox="0 0 8 8"><line x1="1" y1="1" x2="7" y2="7"/><line x1="7" y1="1" x2="1" y2="7"/></svg>
              </span>
            </div>
            <div class="filter-pill">
              1500–1520
              <span class="filter-pill-x">
                <svg viewBox="0 0 8 8"><line x1="1" y1="1" x2="7" y2="7"/><line x1="7" y1="1" x2="1" y2="7"/></svg>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="notes">
    <strong>Interactive demo:</strong> Use the search icon to repeatedly toggle between editing mode (panel) and review mode (toolbox).
  </div>
</div>

<script>
// Interactive toggle functionality
const toggleBtn = document.getElementById('toggleBtn');
const searchPanel = document.getElementById('searchPanel');
const toolbox = document.getElementById('toolbox');

let showingPanel = true;

toggleBtn.addEventListener('click', () => {
  showingPanel = !showingPanel;
  
  if (showingPanel) {
    // Show panel, hide toolbox
    searchPanel.classList.add('visible');
    toolbox.classList.remove('visible');
    toggleBtn.classList.remove('active');
  } else {
    // Hide panel, show toolbox
    searchPanel.classList.remove('visible');
    toolbox.classList.add('visible');
    toggleBtn.classList.add('active');
  }
});
</script>

</body>
</html>
